<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>Kanji Replace Tools</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <section class="section">
      <div class="container is-fluid">
        <h1>Kanji Replace Tools</h1>
        <div class="columns">
          <div class="column">
            <label for="text">Sentense</label><br />
            <textarea id="text" name="text" rows="4" cols="50"></textarea>
            <button
              class="example_button"
              type="button"
              onclick="insertExample(0)"
            >
              Sample: Kokoro
            </button>
            <button
              class="example_button"
              type="button"
              onclick="insertExample(1)"
            >
              Sample: Sangetsuki
            </button>
            <button
              class="example_button"
              type="button"
              onclick="insertExample(2)"
            >
              Sample: Tsumi to Batsu
            </button>
            <button
              class="example_button"
              type="button"
              onclick="insertExample(3)"
            >
              Sample: Mainz (Wikipedia)
            </button>
          </div>
          <div class="column">
            <h2>Result</h2>
            <div class="textwrap">
              <p id="resultText"></p>
              <button type="button" onclick="copyToClipboard()">
                Copy Result
              </button>
            </div>
          </div>
        </div>
        <div class="columns">
          <div class="column is-10">
            <label for="kanji_list">Kanji List</label><br />
            <textarea
              id="kanji_list"
              name="kanji_list"
              rows="2"
              cols="50"
            ></textarea>
          </div>
          <div class="column">
            <input type="button" value="Replace" onclick="replaceKanji()" />
          </div>
        </div>
        <footer>
          <p>Sample text from Aozora Bunko & Wikipedia</p>
          <p>Copyright 2024 Masaki Ando / Wolphtype</p>
        </footer>
      </div>
    </section>
    <script>
      const examples = [
        "私はその人を常に先生と呼んでいた。だからここでもただ先生と書くだけで本名は打ち明けない。これは世間を憚かる遠慮というよりも、その方が私にとって自然だからである。私はその人の記憶を呼び起すごとに、すぐ「先生」といいたくなる。筆を執っても心持は同じ事である。よそよそしい頭文字などはとても使う気にならない。\n私が先生と知り合いになったのは鎌倉である。その時私はまだ若々しい書生であった。暑中休暇を利用して海水浴に行った友達からぜひ来いという端書を受け取ったので、私は多少の金を工面して、出掛ける事にした。私は金の工面に二、三日を費やした。ところが私が鎌倉に着いて三日と経たないうちに、私を呼び寄せた友達は、急に国元から帰れという電報を受け取った。電報には母が病気だからと断ってあったけれども友達はそれを信じなかった。友達はかねてから国元にいる親たちに勧まない結婚を強いられていた。彼は現代の習慣からいうと結婚するにはあまり年が若過ぎた。それに肝心の当人が気に入らなかった。それで夏休みに当然帰るべきところを、わざと避けて東京の近くで遊んでいたのである。彼は電報を私に見せてどうしようと相談をした。私にはどうしていいか分らなかった。けれども実際彼の母が病気であるとすれば彼は固より帰るべきはずであった。それで彼はとうとう帰る事になった。せっかく来た私は一人取り残された。\n学校の授業が始まるにはまだ大分日数があるので鎌倉におってもよし、帰ってもよいという境遇にいた私は、当分元の宿に留まる覚悟をした。友達は中国のある資産家の息子で金に不自由のない男であったけれども、学校が学校なのと年が年なので、生活の程度は私とそう変りもしなかった。したがって一人ぼっちになった私は別に恰好な宿を探す面倒ももたなかったのである。\n宿は鎌倉でも辺鄙な方角にあった。玉突きだのアイスクリームだのというハイカラなものには長い畷を一つ越さなければ手が届かなかった。車で行っても二十銭は取られた。けれども個人の別荘はそこここにいくつでも建てられていた。それに海へはごく近いので海水浴をやるには至極便利な地位を占めていた。\n私は毎日海へはいりに出掛けた。古い燻ぶり返った藁葺の間を通り抜けて磯へ下りると、この辺にこれほどの都会人種が住んでいるかと思うほど、避暑に来た男や女で砂の上が動いていた。ある時は海の中が銭湯のように黒い頭でごちゃごちゃしている事もあった。その中に知った人を一人ももたない私も、こういう賑やかな景色の中に裹まれて、砂の上に寝そべってみたり、膝頭を波に打たしてそこいらを跳ね廻るのは愉快であった。\n私は実に先生をこの雑沓の間に見付け出したのである。その時海岸には掛茶屋が二軒あった。私はふとした機会からその一軒の方に行き慣れていた。長谷辺に大きな別荘を構えている人と違って、各自に専有の着換場を拵えていないここいらの避暑客には、ぜひともこうした共同着換所といった風なものが必要なのであった。彼らはここで茶を飲み、ここで休息する外に、ここで海水着を洗濯させたり、ここで鹹はゆい身体を清めたり、ここへ帽子や傘を預けたりするのである。海水着を持たない私にも持物を盗まれる恐れはあったので、私は海へはいるたびにその茶屋へ一切を脱ぎ棄てる事にしていた。",
        "隴西の李徴は博学才穎、天宝の末年、若くして名を虎榜に連ね、ついで江南尉に補せられたが、性、狷介、自ら恃むところ頗る厚く、賤吏に甘んずるを潔しとしなかった。いくばくもなく官を退いた後は、故山、虎略に帰臥し、人と交を絶って、ひたすら詩作に耽った。下吏となって長く膝を俗悪な大官の前に屈するよりは、詩家としての名を死後百年に遺そうとしたのである。しかし、文名は容易に揚らず、生活は日を逐うて苦しくなる。李徴は漸く焦躁に駆られて来た。この頃からその容貌も峭刻となり、肉落ち骨秀で、眼光のみ徒らに炯々として、曾て進士に登第した頃の豊頬の美少年の俤は、何処に求めようもない。数年の後、貧窮に堪えず、妻子の衣食のために遂に節を屈して、再び東へ赴き、一地方官吏の職を奉ずることになった。一方、これは、己の詩業に半ば絶望したためでもある。曾ての同輩は既に遥か高位に進み、彼が昔、鈍物として歯牙にもかけなかったその連中の下命を拝さねばならぬことが、往年の儁才李徴の自尊心を如何に傷けたかは、想像に難くない。彼は怏々として楽しまず、狂悖の性は愈々抑え難くなった。一年の後、公用で旅に出、汝水のほとりに宿った時、遂に発狂した。或夜半、急に顔色を変えて寝床から起上ると、何か訳の分らぬことを叫びつつそのまま下にとび下りて、闇の中へ駈出した。彼は二度と戻って来なかった。附近の山野を捜索しても、何の手掛りもない。その後李徴がどうなったかを知る者は、誰もなかった。\n翌年、監察御史、陳郡の袁惨という者、勅命を奉じて嶺南に使し、途に商於の地に宿った。次の朝未だ暗い中に出発しようとしたところ、駅吏が言うことに、これから先の道に人喰虎が出る故、旅人は白昼でなければ、通れない。今はまだ朝が早いから、今少し待たれたが宜しいでしょうと。袁惨は、しかし、供廻りの多勢なのを恃み、駅吏の言葉を斥けて、出発した。残月の光をたよりに林中の草地を通って行った時、果して一匹の猛虎が叢の中から躍り出た。虎は、あわや袁惨に躍りかかるかと見えたが、忽ち身を飜して、元の叢に隠れた。叢の中から人間の声で「あぶないところだった」と繰返し呟くのが聞えた。その声に袁惨は聞き憶えがあった。驚懼の中にも、彼は咄嗟に思いあたって、叫んだ。「その声は、我が友、李徴子ではないか？」袁惨は李徴と同年に進士の第に登り、友人の少かった李徴にとっては、最も親しい友であった。温和な袁惨の性格が、峻峭な李徴の性情と衝突しなかったためであろう。\n叢の中からは、暫く返辞が無かった。しのび泣きかと思われる微かな声が時々洩れるばかりである。ややあって、低い声が答えた。「如何にも自分は隴西の李徴である」と。\n袁惨は恐怖を忘れ、馬から下りて叢に近づき、懐かしげに久闊を叙した。そして、何故叢から出て来ないのかと問うた。李徴の声が答えて言う。自分は今や異類の身となっている。どうして、おめおめと故人の前にあさましい姿をさらせようか。かつ又、自分が姿を現せば、必ず君に畏怖嫌厭の情を起させるに決っているからだ。しかし、今、図らずも故人に遇うことを得て、愧赧の念をも忘れる程に懐かしい。どうか、ほんの暫くでいいから、我が醜悪な今の外形を厭わず、曾て君の友李徴であったこの自分と話を交してくれないだろうか。",
        "とはいえ、今度は通りへ出てしまうと、借りのある女に会うのをかくまで恐れているということが、われながらぎょっとするほど彼を驚かした。\n『あれだけの事を断行しようと思っているのに、こんなくだらない事でびくつくなんて！』奇妙な微笑を浮かべながら、彼はこう考えた。『ふむ……そうだ……いっさいの事は人間の掌中にあるんだが、ただただ臆病のために万事鼻っ先を素通りさせてしまうんだ……これはもう確かに原理だ……ところで、いったい人間は何を最も恐れてるだろう？新しい一歩、新しい自分自身のことば、これを何よりも恐れているんだ……だが、おれはあんまりしゃべりすぎる。つまりしゃべりすぎるから、なんにもしないのだ。もっとも、なんにもしないからしゃべるのかもしれない。これはおれが先月ひと月、夜も昼もあの隅っこにごろごろしていて……昔話みたいな事を考えてるうちに、しゃべることを覚えたのだ。それはそうと、なんだっておれは今ほっつき歩いてるんだろう、いったいあれが俺にできるのだろうか？そもそも、あれがまじめな話だろうか？なんの、まじめな話どころか、ただ空想のための空想で、自慰にすぎないのだ。玩具だ！そう、玩具というのが本当らしいな！』\n通りは恐ろしい暑さだった。その上、息苦しさ、雑踏、いたるところに行き当たる石灰、建築の足場、煉瓦、埃、別荘を借りる力のないペテルブルグ人の誰でもが知り抜いている特殊な夏の悪臭――これらすべてが一つになって、それでなくてさえ衰え切っている青年の神経を、いよいよ不愉快にゆすぶるのであった。市内のこの界隈に特におびただしい酒場の堪えがたい臭気、祭日でもないのにひっきりなしにぶっつかる酔いどれなどが、こうした情景のいとわしい憂鬱な色彩をいやが上に深めているのであった。深い嫌悪の情が、青年のきゃしゃな顔面をちらとかすめた。ついでに言っておくが、彼は美しい黒い目に栗色の毛をしたすばらしい美男子で、背は中背より高く、ほっそりとして格好がよかった。けれど、彼はすぐに深い瞑想、というよりむしろ一種の自己忘却に堕ちたようなあんばいで、もう周囲のものに気もつかず、また気をつけようともせず先へ先へと歩き出した。どうかすると、今しがた自分で自認した独語の癖が出て、何かしら口の中でぶつぶつ言う。この瞬間、彼は考えが時おりこぐらかって、体が極度に衰弱しているのを自分でも意識した――ほとんどもう二日というもの、全くものを食わなかったのである。\n彼はなんともいえない見すぼらしいなりをしていて、ほかの者なら、かなり慣れっこになった人間でも、こんなぼろを着て昼日なか通りへ出るのは、気がさすに相違ないほどである。しかしこの界隈ときたら、服装などで人をびっくりさせるのは、ちょっとむずかしいところだった。乾草広場に近く接している位置の関係、おびただしい木賃宿や長屋の数々、それからとりわけ、ここら中部ペテルブルグの町や横町にごみごみ集まっている職工や労働者などの群れ――こういうものが時々その辺一帯の街上風景に思い切ってひどい風体の人物を織り込むので、変わった姿に出会って驚くのは、かえって変なくらいのものだった。その上青年の心の中には、毒々しい侮蔑の念が激しく鬱積していたので、若々しい――時としてはあまりに若々しい神経質なところがあるにもかかわらず、彼は町中でそのぼろ洋服を恥じようなどとは、てんで考えもしなかった。",
        "5世紀末、フランク王国の支配下に入った。8世紀半ば、ボニファティウスがマインツの司教に就任してから、マインツはドイツにおける信徒全体を統括する首位大司教座の役割を担った。カール大帝は813年「帝国内の五つの都市で教会会議を開催し、民衆の「理解」できるような仕方で説教を行うことを聖職者に命じた」が、「マインツでは「神の言葉は俗衆が理解しうるような仕方で説教すべし」、すなわち「ラテン語説教をゲルマン語に訳すべし」と定めている。カール大帝は帝国の聖俗諸侯に命じてマインツの「太鼓大橋」を完成させたが、「船を渡して不正な儲けを盗みとろうと企てた悪漢どもの陰謀により、この橋は破壊されてしまった」（ノートカー）。神聖ローマ皇帝ハインリヒ2世の死によってリーウドルフィンガー家（リウドルフィング家）（Liudolfinger；ザクセン朝、オットー朝）が途絶えると、1024年7月4日コンラートがローマ王に選ばれたが（ザリエル朝、ザーリアー朝）、その際マインツ大司教が大きな働きをし、王の戴冠式もマインツで挙行された。中世を通じて、マインツ大司教はドイツ内での有力諸侯としての地位を保ち、1356年に成立した金印勅書の中では、7人の選帝侯のうちの1人と位置付けられている。「マインツ大司教は神聖ローマ帝国の大官房長であり、皇帝を選挙する選帝侯の首席であり、諸侯や諸都市の会議である帝国議会の議長であり、要するに帝国で皇帝に次いで位の高い存在であった」。13世紀末ごろ（1283/89?）に成立した中高ドイツ語文学『ローエングリーン』では、マインツ大司教は、カール大帝の定めた七選帝侯の第一に「ドイツ管轄帝国尚書」として挙げられている。\nマインツはしばしば帝国会議（皇帝・王主催の諸侯会議）の会場となった。ドイツ中世史の栄光の頂点に立ったフリードリヒ1世 (神聖ローマ皇帝)（バルバロッサ）が、1184年の聖霊降臨祭に催した息子たちの騎士叙任式の祝祭、1188年断食期間中に皇帝が十字軍遠征を誓い、「イエス・キリストの宮廷会議」（≪Hoftag Jesu Christi≫）と呼ばれた大帝国会議はとくに有名である。1184年の祝祭は、中世ドイツ宮廷文学の創始者ハインリヒ・フォン・フェルデケが『エネイーデ』（ドイツ語版「エネアス物語」）において称揚している。13世紀末ごろ（1283/89?）に成立した中高ドイツ語文学『ローエングリーン』では、ブラバントのエルザのために戦う白鳥の騎士とフリードリヒ・フォン・テルラムントとの決戦がマインツで行われたようにほのめかされているが、この設定もフリードリヒ・バルバロッサがマインツで催した有名な祝宴に肖ったのかもしれない。\n1115年マインツの都市住民は神聖ローマ皇帝ハインリヒ5世に迫って、皇帝に捕縛されていた大司教アーダルベルトを釈放させ、1119/20年には大司教がこれに感謝し、住民に対して、「外部の裁判所に呼び出されないこと、貢租を賦課されないことを保証」している。\n「マインツでは、面積105ヘクタールを囲む広大なローマ末期の周壁環が中世全期を通じてこの都市の住民を包み込んでいる」。 オットー3世の時代（983-1002）、マインツの市場はドイツ国内で最も重要な市場として「その市場慣習はボーデン湖からザクセンに至るまでの地域に知られていた」。当時マインツを訪れた人の記録には、この「非常に大きな都市」に「東洋の東のはずれにのみ産出する香辛料」が見られることに驚嘆する記述がある。",
      ];

      function copyToClipboard() {
        var resultText = document.getElementById("resultText");
        var textArea = document.createElement("textarea");
        textArea.value = resultText.innerText;
        document.body.appendChild(textArea);
        textArea.select();
        document.execCommand("copy");
        document.body.removeChild(textArea);

        // ボタンのテキストを変更
        var copyButton = document.querySelector(
          "button[onclick='copyToClipboard()']"
        );
        copyButton.innerText = "Text Copied!"; // テキストを変更

        // 5秒後に元のテキストに戻す
        setTimeout(() => {
          copyButton.innerText = "Copy Result"; // 元のテキストに戻す
        }, 3000); // 5000ミリ秒（5秒）
      }

      function insertExample(index) {
        if (index < examples.length) {
          document.getElementById("text").value = examples[index];
        }
      }

      function replaceKanji() {
        const text = document.getElementById("text").value;
        const kanjiList = document
          .getElementById("kanji_list")
          .value.split(/[\s,]+|\n+/);
        let replacedText = text;

        const kanjiInText = Array.from(text).filter(
          (char) => char >= "\u4e00" && char <= "\u9fff"
        );
        const shuffledKanjiList = kanjiList.sort(() => Math.random() - 0.5);
        let kanjiIterator = shuffledKanjiList[Symbol.iterator]();

        kanjiInText.forEach((kanji) => {
          let replacedKanji = kanjiIterator.next();
          if (replacedKanji.done) {
            kanjiIterator = shuffledKanjiList[Symbol.iterator]();
            replacedKanji = kanjiIterator.next();
          }
          replacedText = replacedText.replace(kanji, replacedKanji.value, 1);
        });

        document.getElementById("resultText").innerText = replacedText;
      }
    </script>
  </body>
</html>
